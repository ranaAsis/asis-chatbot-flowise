<script type="module">
  // Import the Chatbot module from the CDN.
  import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"

  // Initialize the Chatbot with the configuration options.
  Chatbot.init({
      // Unique identifier for your chatflow. This should match your chatflow setup.
      chatflowid: "2b82d961-25c6-4f11-a86e-4f52edb1ec79",

      // The API host where your chatbot backend is located.
      apiHost: "https://flowise.asis-chatbot.com",

      // Optional additional configuration for your chatflow.
      chatflowConfig: {
          /* Chatflow Config */
          // Customize chatflow specific settings here if needed.
      },

      // Optional configuration for observers.
      observersConfig: {
          /* Observers Config */
          // Customize observer behaviors here if required.
      },

      theme: {
          // Configuration for the floating chat button.
          button: {
              backgroundColor: 'transparent',  // Button background color.
              right: 20,                   // Distance from the right edge of the screen.
              bottom: 20,                  // Distance from the bottom edge of the screen.
              size: 48,                    // Size of the button in pixels.
              dragAndDrop: true,           // Enable drag and drop functionality.
              customIconSrc: './images/logo.png', // URL for a custom icon image.
              autoWindowOpen: {
                  autoOpen: false,         // Automatically open the chat window when triggered.
                  openDelay: 2,           // Delay (in seconds) before auto-opening the chat window.
                  autoOpenOnMobile: false // Disable auto-open on mobile devices.
              }
          },

          // Configuration for the tooltip that appears near the chat button.
          tooltip: {
              showTooltip: false,               // Enable or disable the tooltip.
              tooltipMessage: 'Hi There!',   // The message shown in the tooltip.
              tooltipBackgroundColor: '#bb141a', // Background color of the tooltip.
              tooltipTextColor: 'white',       // Text color for the tooltip message.
              tooltipFontSize: 16              // Font size for the tooltip text.
          },

          // Configuration for the disclaimer popup shown to users.
    /*       disclaimer: {
              title: 'Disclaimer', // Title of the disclaimer popup.
              message: "By using this chatbot, you agree to the <a target=\"_blank\" href=\"https://flowiseai.com/terms\">Terms & Condition</a>", // Disclaimer message with a link to terms.
              textColor: 'black',  // Text color for the disclaimer.
              buttonColor: '#3b82f6', // Background color for the disclaimer button.
              buttonText: 'Start Chatting', // Text on the disclaimer button.
              buttonTextColor: 'white', // Color of the disclaimer button text.
              blurredBackgroundColor: 'rgba(0, 0, 0, 0.4)', // Background overlay color when the disclaimer is shown.
              backgroundColor: 'white' // Background color of the disclaimer content area.
          }, */

          customCSS: `
              /* Adjust the title avatar image to reduce its height */
              .flowise-chatwindow-title-avatar img {
                  object-fit: contain !important;
                  height: 40px !important; /* Reduced height */
                  width: auto !important;
              }

              /* Alternatively, targeting the image by its URL for extra specificity */
              img[src="https://raw.githubusercontent.com/ranaAsis/asis-chatbot-flowise/main/images/logo.png"] {
                  object-fit: contain !important;
                  height: 40px !important; /* Reduced height */
                  width: auto !important;
              }
          `,

          // Configuration for the chat window itself.
          chatWindow: {
              showTitle: true,         // Display the title of the chat window.
              showAgentMessages: true, // Display messages sent by the chatbot agent.
              title: 'ASIS',    // Title text for the chat window.
              titleAvatarSrc: 'https://raw.githubusercontent.com/ranaAsis/asis-chatbot-flowise/main/images/logo.png', // Avatar image for the chat window title.
              welcomeMessage: 'Hello! Welcome to ASIS Boats', // Custom welcome message for users.
              errorMessage: 'There was an error. Please retry or contact us at info@asisboats.com', // Custom error message displayed when an error occurs.
              backgroundColor: '#ffffff', // Background color of the chat window.
              backgroundImage: 'enter image path or link', // Optional background image for the chat window.
              height: 700,             // Height of the chat window in pixels.
              width: 400,              // Width of the chat window in pixels.
              fontSize: 16,            // Base font size for the chat window content.
              starterPrompts: [        // List of starter prompt messages to help initiate conversation.
                  "What makes ASIS Boats different?", ""
              ],
              starterPromptFontSize: 15, // Font size for the starter prompts.
              clearChatOnReload: true,  // Determine whether the chat history should clear on page reload.
              sourceDocsTitle: 'Sources:', // Title for any source documents displayed.
              renderHTML: true,       // Allow HTML content to be rendered in chat messages.
              
              // Appearance configuration for messages sent by the chatbot agent.
              botMessage: {
                  backgroundColor: '#f7f8ff', // Background color for bot messages.
                  textColor: '#303235',       // Text color for bot messages.
                  showAvatar: true,           // Display the bot's avatar with messages.
                  avatarSrc: 'https://raw.githubusercontent.com/ranaAsis/asis-chatbot-flowise/main/images/aceHead.png' // URL for the bot's avatar image.
              },
              
              // Appearance configuration for messages sent by the user.
              userMessage: {
                  backgroundColor: '#bb141a', // Background color for user messages.
                  textColor: '#ffffff',       // Text color for user messages.
                  showAvatar: true,           // Display the user's avatar with messages.
                  avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png' // URL for the user's avatar image.
              },
              
              // Configuration for the text input area where users type their messages.
              textInput: {
                  placeholder: 'Type your question', // Placeholder text in the input field.
                  backgroundColor: '#ffffff', // Background color of the input field.
                  textColor: '#303235',       // Text color for user input.
                  sendButtonColor: '#bb141a', // Background color for the send button.
                  maxChars: 10000,               // Maximum number of characters allowed per message.
                  maxCharsWarningMessage: 'You exceeded the characters limit. Please input less than 50 characters.', // Warning message for exceeding character limit.
                  autoFocus: true,            // Automatically focus the text input when the chat window is opened.
                  sendMessageSound: true,     // Play a sound when a message is sent.
                  sendSoundLocation: 'send_message.mp3', // File location for the send message sound.
                  receiveMessageSound: true,  // Play a sound when a message is received.
                  receiveSoundLocation: 'receive_message.mp3' // File location for the receive message sound.
              },
              
              // Configuration for feedback elements within the chat window.
              feedback: {
                  color: '#303235' // Color of feedback text or icons.
              },
              
              // Toggle to display the date and time alongside messages.
              dateTimeToggle: {
                  date: true, // Show date with messages.
                  time: true  // Show time with messages.
              },
              
              // Configuration for the footer area at the bottom of the chat window.
              footer: {
                  textColor: '#303235', // Text color for the footer.
                  text: '',   // Text label preceding the company name.
                  company: 'ASIS Boats',   // Company name displayed in the footer.
                  companyLink: 'https://asisboats.com/' // URL for the company link.
              }
          }
      }
  })
</script>
